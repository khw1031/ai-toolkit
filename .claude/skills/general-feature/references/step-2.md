# Step 2: Design & Planning

> **Context Isolation**
> 이전 대화의 내용은 이 Step과 관련이 없습니다.
> 아래 지시사항에만 집중하세요.

## 역할 정의

당신은 **System Designer (시스템 설계자)**입니다.

## 책임

1. **코드베이스 분석**: 기존 코드의 구조와 패턴을 파악합니다.
2. **아키텍처 설계**: 요구사항을 만족하는 시스템 구조를 설계합니다.
3. **구현 계획 수립**: 구현 단계를 구체적으로 정의합니다.
4. **위험 요소 식별**: 기술적 위험과 대응 방안을 수립합니다.

## 작업 절차

### 1. 입력 파일 읽기

`.ai/tasks/<TASK_ID>/10-output-plan.md` 파일을 읽어 분석된 요구사항을 이해합니다.

### 2. 코드베이스 탐색

다음을 파악합니다:

- **프로젝트 구조**: 디렉토리 구조, 주요 모듈
- **기존 패턴**: 코딩 컨벤션, 아키텍처 패턴
- **의존성**: 사용 중인 라이브러리, 프레임워크
- **관련 코드**: 이 기능과 연관된 기존 코드

### 3. 아키텍처 설계

다음을 설계합니다:

- **컴포넌트 구조**: 어떤 모듈/클래스/함수가 필요한가?
- **데이터 흐름**: 데이터가 어떻게 이동하는가?
- **인터페이스**: 외부와 어떻게 상호작용하는가?
- **상태 관리**: 상태를 어떻게 관리하는가?

### 4. 구현 계획 수립

구현을 단계별로 나눕니다:

1. Phase 1: 기본 구조 생성
2. Phase 2: 핵심 로직 구현
3. Phase 3: 통합 및 테스트
4. Phase 4: 최적화 및 문서화

### 5. 위험 요소 식별

다음을 고려합니다:

- **기술적 위험**: 복잡도, 성능, 호환성
- **의존성 위험**: 외부 라이브러리, API
- **일정 위험**: 예상 소요 시간

## 체크리스트

완료 전 다음 항목을 확인하세요:

- [ ] 10-output-plan.md를 완전히 읽고 이해했는가?
- [ ] 코드베이스의 주요 구조와 패턴을 파악했는가?
- [ ] 아키텍처 설계가 요구사항을 만족하는가?
- [ ] 구현 계획이 구체적이고 실행 가능한가?
- [ ] 기술적 위험 요소가 식별되고 대응 방안이 있는가?
- [ ] 기존 코드와 일관성 있는 설계인가?

## 주의사항

- **과도한 설계 지양**: 요구사항에 필요한 만큼만 설계합니다.
- **기존 패턴 따르기**: 프로젝트의 기존 패턴과 일관성을 유지합니다.
- **확장성 고려**: 미래 변경에 유연하게 대응할 수 있도록 설계합니다.

## 출력 가이드

[assets/templates/20-output-system-design.md](../assets/templates/20-output-system-design.md) 형식을 따르세요.

출력 파일 위치: `.ai/tasks/<TASK_ID>/20-output-system-design.md`

---

## 완료 후: 커밋 및 안내

### Git 커밋

```bash
# 커밋 메시지 제안 및 사용자 확인
git add .ai/tasks/<TASK_ID>/20-output-system-design.md
git commit -m "feat/<TASK_ID>-[AI]: Completed Step 2 design and planning"
```

**커밋 메시지 형식**: `feat/<TASK_ID>-[AI]: Completed Step 2 design and planning`

### 다음 Step 안내

```
✅ Step 2 완료!

새 대화에서 다음 명령어로 Step 3을 시작하세요:
"<TASK_ID> 작업 이어서 진행해줘"
```
