---
description: >
  컨텍스트 효율성을 위한 단계적 정보 공개 원칙.
  문서, 규칙, 스킬 작성 시 3단계 로드 모델을 적용합니다.
---

# Progressive Disclosure 원칙

> 컨텍스트 효율성을 위한 단계적 정보 공개 원칙

---

## 1. 일반 원칙

### 핵심 개념

정보를 **필요한 시점에 필요한 만큼만** 로드하여 컨텍스트 윈도우를 효율적으로 사용합니다.

### 3단계 로드 모델

```
┌─────────────────────────────────────────────────────┐
│ 1단계: 메타데이터 (~100 토큰)                       │
│    → 항상 로드, 최소한의 식별 정보                  │
├─────────────────────────────────────────────────────┤
│ 2단계: 지침 (<5000 토큰 권장)                       │
│    → 활성화 시 로드, 핵심 동작 규칙                 │
├─────────────────────────────────────────────────────┤
│ 3단계: 리소스 (무제한, 필요시)                      │
│    → 온디맨드 로드, 상세 문서/코드/자산             │
└─────────────────────────────────────────────────────┘
```

### 적용 기준

| 단계 | 로드 시점 | 토큰 권장량 | 포함 내용 |
|------|----------|------------|----------|
| 1단계 | 시작 시 | ~100 | 이름, 설명, 트리거 키워드 |
| 2단계 | 활성화 시 | <5000 | 핵심 규칙, 필수 지침 |
| 3단계 | 요청 시 | 무제한 | 예제, 상세 문서, 스크립트 |

---

## 2. Skills 적용

### 디렉토리 구조

```
skill-name/
├── SKILL.md           # 2단계 - 활성화 시 로드
├── scripts/           # 3단계 - 온디맨드
├── references/        # 3단계 - 온디맨드
└── assets/            # 3단계 - 온디맨드
```

### 단계별 내용

| 단계 | 파일/필드 | 내용 |
|------|----------|------|
| 1단계 | `name`, `description` | 스킬 식별 및 트리거 키워드 |
| 2단계 | SKILL.md 본문 | 개요, 사용 방법, 핵심 예제 |
| 3단계 | scripts/, references/, assets/ | 실행 코드, 상세 문서, 템플릿 |

### 작성 가이드

- **본문 500줄 이하** 유지
- 상세 예제는 `references/`로 분리
- 실행 코드는 `scripts/`로 분리
- 참조 경로는 1단계 깊이 유지

---

## 3. Rules 적용

### 디렉토리 구조

```
.claude/
├── CLAUDE.md          # 1단계 - 항상 로드 (핵심 원칙만)
├── rules/             # 2단계 - 조건부 로드
│   └── *.md
└── references/        # 3단계 - 온디맨드
    └── *.md
```

### 단계별 내용

| 단계 | 위치 | 내용 |
|------|------|------|
| 1단계 | CLAUDE.md | 프로젝트 핵심 원칙, 규칙 참조 안내 |
| 2단계 | rules/*.md | 도메인별 상세 규칙 (paths로 조건부) |
| 3단계 | references/*.md | 전체 예제, 상세 가이드 |

### 작성 가이드

- **CLAUDE.md는 최소화** (핵심 원칙 + 규칙 참조)
- 규칙 파일은 **하나의 관심사**에 집중
- `paths` frontmatter로 **조건부 활성화**
- 상세 문서는 references/로 분리

### paths 조건부 로드 예시

```yaml
---
paths:
  - "**/SKILL.md"
  - "**/skills/**"
---
# 이 규칙은 위 경로 작업 시에만 로드
```

---

## 4. 문서 작성 적용

### 일반 문서

| 단계 | 내용 |
|------|------|
| 1단계 | 제목, TL;DR (1-2문장 요약) |
| 2단계 | 핵심 내용, 필수 지침 |
| 3단계 | 부록, 상세 예제, 참고 자료 |

### 권장 구조

```markdown
# 제목

> TL;DR: 한 줄 요약 (1단계)

## 핵심 내용 (2단계)
- 필수 규칙
- 주요 지침

## 상세 정보
[전체 가이드](references/FULL_GUIDE.md) 참조 (3단계)
```

---

## 5. 체크리스트

문서/규칙 작성 시 확인:

```
□ 1단계 정보만으로 "무엇인지" 파악 가능한가?
□ 2단계 정보만으로 "어떻게 사용하는지" 파악 가능한가?
□ 상세 내용이 별도 파일로 분리되어 있는가?
□ 참조 경로가 1단계 깊이인가?
□ 2단계 내용이 5000 토큰 이하인가?
```
